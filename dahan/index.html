<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¤§å¯’Â·å²æœ«è¿æ˜¥ | äº’åŠ¨èŠ‚æ°”H5</title>
    
    <!-- å¼•å…¥å­—ä½“å›¾æ ‡ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* åŸºç¡€é‡ç½® */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #2563eb;
            --ice-blue: #60a5fa;
            --snow-white: #f0f9ff;
            --warm-red: #dc2626;
            --warm-orange: #ea580c;
            --dark-blue: #1e40af;
            --light-blue: #dbeafe;
            --text-dark: #1f2937;
            --text-light: #6b7280;
        }

        body {
            font-family: 'PingFang SC', 'Microsoft YaHei', 'STKaiti', serif;
            background: linear-gradient(145deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            color: white;
            overflow-x: hidden;
            min-height: 100vh;
            position: relative;
        }

        /* èƒŒæ™¯è£…é¥°å…ƒç´  */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .bg-element {
            position: absolute;
            opacity: 0.1;
        }

        .bg-1 {
            top: 10%;
            left: 5%;
            font-size: 120px;
            color: var(--ice-blue);
        }

        .bg-2 {
            top: 30%;
            right: 8%;
            font-size: 80px;
            color: var(--ice-blue);
            transform: rotate(45deg);
        }

        .bg-3 {
            bottom: 20%;
            left: 10%;
            font-size: 100px;
            color: var(--ice-blue);
        }

        /* é›ªèŠ±é£˜è½æ•ˆæœ */
        .snowflakes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .snowflake {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.8;
        }

        /* ä¸»å®¹å™¨ */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        /* å¤´éƒ¨åŒºåŸŸ */
        .hero-section {
            text-align: center;
            padding: 50px 20px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
            border-radius: 30px;
            background: linear-gradient(135deg, 
                rgba(37, 99, 235, 0.9) 0%, 
                rgba(96, 165, 250, 0.8) 50%, 
                rgba(30, 64, 175, 0.9) 100%);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3),
                        inset 0 0 0 1px rgba(255, 255, 255, 0.1);
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 20% 30%, rgba(255,255,255,0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255,255,255,0.1) 0%, transparent 50%);
            z-index: 1;
        }

        .title-container {
            position: relative;
            z-index: 2;
        }

        .main-title {
            font-size: 3.5rem;
            font-weight: bold;
            margin-bottom: 10px;
            text-shadow: 3px 3px 8px rgba(0, 0, 0, 0.5);
            background: linear-gradient(to right, #f0f9ff, #dbeafe);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            display: inline-block;
        }

        .main-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 25%;
            width: 50%;
            height: 3px;
            background: linear-gradient(to right, transparent, #fbbf24, transparent);
        }

        .subtitle {
            font-size: 1.4rem;
            opacity: 0.95;
            max-width: 800px;
            margin: 20px auto;
            line-height: 1.8;
            color: #e2e8f0;
        }

        /* å¡ç‰‡åŒºåŸŸ */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }

        /* å¡ç‰‡åŸºç¡€æ ·å¼ */
        .card {
            background: linear-gradient(145deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 35px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            border-color: rgba(96, 165, 250, 0.3);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(to right, var(--ice-blue), var(--primary-blue));
            border-radius: 25px 25px 0 0;
        }

        /* å¡ç‰‡æ ‡é¢˜åŒºåŸŸ */
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            position: relative;
        }

        .card-icon-wrapper {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary-blue), var(--ice-blue));
            border-radius: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 20px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
        }

        .card-icon-wrapper::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shine 3s infinite linear;
        }

        @keyframes shine {
            0% { transform: translateX(-100%) rotate(45deg); }
            100% { transform: translateX(100%) rotate(45deg); }
        }

        .card-icon {
            font-size: 2rem;
            color: white;
            position: relative;
            z-index: 1;
        }

        .card-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #f0f9ff;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }

        /* å¡ç‰‡å†…å®¹ */
        .card-content {
            color: #cbd5e1;
            line-height: 1.7;
            font-size: 1.1rem;
            margin-bottom: 25px;
        }

        /* å¤§å¯’å¯’å†·ç°è±¡æ ·å¼ */
        .cold-phenomena {
            margin-top: 20px;
        }

        .phenomenon-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 15px;
            border-left: 4px solid var(--ice-blue);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .phenomenon-item:hover {
            background: rgba(96, 165, 250, 0.1);
            transform: translateX(5px);
        }

        .phenomenon-item.clicked {
            background: rgba(37, 99, 235, 0.15);
            border-left-color: #fbbf24;
        }

        .phenomenon-item.clicked::after {
            content: 'âœ“';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #4ade80;
            font-weight: bold;
            font-size: 1.2rem;
        }

        .phenomenon-item::before {
            content: 'â„ï¸';
            position: absolute;
            right: 40px;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0.2;
            font-size: 24px;
        }

        .phenomenon-title {
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }

        .phenomenon-desc {
            color: #94a3b8;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* ä¹ ä¿—æ”¶é›† */
        .customs-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .custom-item {
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.08) 0%, 
                rgba(255, 255, 255, 0.04) 100%);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .custom-item:hover {
            border-color: var(--ice-blue);
            transform: scale(1.05);
        }

        .custom-item.collected {
            background: linear-gradient(135deg, 
                rgba(37, 99, 235, 0.2) 0%, 
                rgba(96, 165, 250, 0.15) 100%);
            border-color: var(--ice-blue);
        }

        .custom-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--ice-blue);
        }

        .custom-name {
            font-weight: 500;
            color: #e2e8f0;
        }

        /* è¯—è¯é…å¯¹ */
        .poem-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .poem-line {
            background: rgba(255, 255, 255, 0.07);
            border: 2px solid rgba(255, 255, 255, 0.15);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            font-style: italic;
            color: #cbd5e1;
            position: relative;
            overflow: hidden;
        }

        .poem-line:hover {
            border-color: var(--ice-blue);
            transform: translateY(-3px);
        }

        .poem-line.selected {
            background: rgba(37, 99, 235, 0.2);
            border-color: var(--primary-blue);
            color: #f0f9ff;
        }

        .poem-line.matched {
            background: rgba(34, 197, 94, 0.2);
            border-color: #4ade80;
            cursor: default;
        }

        /* ç»˜å›¾æ¿æ ·å¼ */
        .drawing-area {
            margin-top: 25px;
        }

        .drawing-container {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        #drawingBoard {
            width: 100%;
            height: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: block;
            cursor: crosshair;
            touch-action: none;
        }

        .drawing-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 20px;
            justify-content: center;
        }

        .color-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .color-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.2);
            cursor: pointer;
            transition: all 0.3s;
        }

        .color-option:hover {
            transform: scale(1.1);
            border-color: white;
        }

        .color-option.active {
            border-color: white;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        }

        .draw-btn {
            padding: 12px 25px;
            background: linear-gradient(135deg, var(--primary-blue), var(--dark-blue));
            border: none;
            border-radius: 12px;
            color: white;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 5px 15px rgba(37, 99, 235, 0.3);
        }

        .draw-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);
        }

        /* ä¹ ä¿—è¯¦æƒ…å¼¹çª— */
        .custom-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .custom-modal.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: linear-gradient(145deg, 
                rgba(30, 64, 175, 0.95) 0%, 
                rgba(37, 99, 235, 0.9) 100%);
            border-radius: 25px;
            padding: 40px;
            max-width: 500px;
            width: 90%;
            position: relative;
            transform: translateY(30px);
            transition: transform 0.4s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.5);
        }

        .custom-modal.active .modal-content {
            transform: translateY(0);
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }

        .modal-close:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(90deg);
        }

        .modal-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
        }

        .modal-icon {
            font-size: 3rem;
            margin-right: 20px;
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #f0f9ff;
        }

        .modal-body {
            line-height: 1.8;
            color: #e2e8f0;
            font-size: 1.1rem;
        }

        .modal-body p {
            margin-bottom: 15px;
        }

        /* è¿›åº¦å’Œæˆå°± */
        .achievement-section {
            margin-top: 50px;
            padding: 40px;
            background: linear-gradient(145deg, 
                rgba(30, 64, 175, 0.3) 0%, 
                rgba(37, 99, 235, 0.2) 100%);
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .achievement-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: 
                radial-gradient(circle at 10% 20%, rgba(96, 165, 250, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(96, 165, 250, 0.1) 0%, transparent 50%);
        }

        .section-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 30px;
            color: #f0f9ff;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .progress-container {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 30px;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, 
                var(--ice-blue) 0%, 
                var(--primary-blue) 50%, 
                var(--dark-blue) 100%);
            width: 0%;
            transition: width 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.3), 
                transparent);
            animation: progressShine 2s infinite linear;
        }

        @keyframes progressShine {
            0% { transform: translateX(0); }
            100% { transform: translateX(200%); }
        }

        .badges-container {
            display: flex;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
            margin-top: 40px;
        }

        .badge {
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, 
                rgba(255, 255, 255, 0.1) 0%, 
                rgba(255, 255, 255, 0.05) 100%);
            border-radius: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 15px;
            transition: all 0.4s;
            position: relative;
            border: 2px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .badge.unlocked {
            background: linear-gradient(135deg, 
                rgba(96, 165, 250, 0.3) 0%, 
                rgba(37, 99, 235, 0.2) 100%);
            border-color: var(--ice-blue);
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(37, 99, 235, 0.3);
        }

        .badge-icon {
            font-size: 2.5rem;
            margin-bottom: 8px;
            color: #cbd5e1;
        }

        .badge.unlocked .badge-icon {
            color: var(--ice-blue);
            animation: badgeGlow 2s infinite alternate;
        }

        @keyframes badgeGlow {
            0% { filter: drop-shadow(0 0 5px var(--ice-blue)); }
            100% { filter: drop-shadow(0 0 15px var(--ice-blue)); }
        }

        .badge-name {
            font-size: 0.9rem;
            color: #94a3b8;
            text-align: center;
        }

        .badge.unlocked .badge-name {
            color: #e2e8f0;
            font-weight: 500;
        }

        /* éŸ³ä¹æ§åˆ¶ */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }

        .music-btn {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary-blue), var(--dark-blue));
            border-radius: 50%;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .music-btn::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            transition: all 0.5s;
        }

        .music-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        }

        .music-btn:hover::before {
            transform: rotate(45deg) translate(50%, 50%);
        }

        /* æç¤ºæ¶ˆæ¯ */
        .toast {
            position: fixed;
            top: 30px;
            right: 30px;
            background: linear-gradient(135deg, 
                rgba(30, 64, 175, 0.95) 0%, 
                rgba(37, 99, 235, 0.9) 100%);
            backdrop-filter: blur(10px);
            padding: 20px 30px;
            border-radius: 15px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            border-left: 5px solid var(--ice-blue);
            max-width: 350px;
        }

        .toast.show {
            transform: translateX(0);
        }

        /* å“åº”å¼è°ƒæ•´ */
        @media (max-width: 768px) {
            .main-title {
                font-size: 2.5rem;
            }
            
            .cards-grid {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .customs-grid,
            .poem-grid {
                grid-template-columns: 1fr;
            }
            
            .badges-container {
                gap: 20px;
            }
            
            .badge {
                width: 80px;
                height: 80px;
            }
            
            .music-control {
                bottom: 20px;
                right: 20px;
            }
            
            .modal-content {
                padding: 30px 20px;
                width: 95%;
            }
        }

        /* è£…é¥°æ€§åŠ¨ç”» */
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .floating {
            animation: float 6s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- èƒŒæ™¯è£…é¥° -->
    <div class="bg-elements">
        <div class="bg-element bg-1">â„</div>
        <div class="bg-element bg-2">â›„</div>
        <div class="bg-element bg-3">ğŸ§Š</div>
    </div>

    <!-- é›ªèŠ±æ•ˆæœ -->
    <div class="snowflakes" id="snowflakes"></div>

    <!-- ä¹ ä¿—è¯¦æƒ…å¼¹çª— -->
    <div class="custom-modal" id="customModal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header">
                <div class="modal-icon" id="modalIcon">ğŸš</div>
                <h3 class="modal-title" id="modalTitle">é£Ÿç³¯ç±³é¥­</h3>
            </div>
            <div class="modal-body" id="modalBody">
                <p>å¤§å¯’æ—¶èŠ‚ï¼Œå¤©æ°”å¯’å†·ï¼Œäººä»¬ä¼šé£Ÿç”¨ç³¯ç±³åšçš„é¥­æ¥é©±å¯’ä¿æš–ã€‚</p>
                <p>ç³¯ç±³é¥­å«æœ‰ä¸°å¯Œçš„ç¢³æ°´åŒ–åˆç‰©ï¼Œèƒ½å¿«é€Ÿè¡¥å……èƒ½é‡ã€‚åœ¨å¯’å†·çš„å¤©æ°”é‡Œï¼Œä¸€ç¢—çƒ­è…¾è…¾çš„ç³¯ç±³é¥­ä¸ä»…æš–èº«ï¼Œæ›´æš–å¿ƒã€‚</p>
            </div>
        </div>
    </div>

    <!-- ä¸»å®¹å™¨ -->
    <div class="main-container">
        <!-- å¤´éƒ¨åŒºåŸŸ -->
        <section class="hero-section floating">
            <div class="title-container">
                <h1 class="main-title">å¤§å¯’ Â· å²æœ«è¿æ˜¥</h1>
                <p class="subtitle">
                    äºŒåå››èŠ‚æ°”ä¹‹ç»ˆï¼Œå†¬çš„æè‡´ï¼Œæ˜¥çš„å‰å¥ã€‚<br>
                    åœ¨è¿™æœ€å¯’å†·çš„æ—¶èŠ‚ï¼Œä¸‡ç‰©ç§¯è“„åŠ›é‡ï¼Œé™å¾…æ–°ç”Ÿã€‚
                </p>
            </div>
        </section>

        <!-- äº’åŠ¨å¡ç‰‡ç½‘æ ¼ -->
        <div class="cards-grid">
            <!-- å¡ç‰‡1ï¼šå¤§å¯’å¯’å†·ç°è±¡ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-snowflake card-icon"></i>
                    </div>
                    <h2 class="card-title">å¤§å¯’æå¯’ç°è±¡</h2>
                </div>
                <div class="card-content">
                    ç‚¹å‡»äº†è§£å¤§å¯’æ—¶èŠ‚ç‹¬ç‰¹çš„å¯’å†·æ™¯è±¡ï¼š
                </div>
                <div class="cold-phenomena">
                    <div class="phenomenon-item" data-phenomenon="icicle">
                        <div class="phenomenon-title">å†°å‡Œå€’æŒ‚</div>
                        <div class="phenomenon-desc">å±‹æªä¸‹å½¢æˆé•¿é•¿çš„å†°å‡Œï¼Œé˜³å…‰ç…§å°„ä¸‹æ™¶è¹å‰”é€</div>
                    </div>
                    <div class="phenomenon-item" data-phenomenon="ice">
                        <div class="phenomenon-title">æ°´é¢ç»“åšå†°</div>
                        <div class="phenomenon-desc">æ¹–æ³Šæ± å¡˜ç»“å‡ºåšåšçš„å†°å±‚ï¼Œå¯æ‰¿è½½äººçš„é‡é‡</div>
                    </div>
                    <div class="phenomenon-item" data-phenomenon="frost">
                        <div class="phenomenon-title">éœœèŠ±æ»¡çª—</div>
                        <div class="phenomenon-desc">æ¸…æ™¨ç»ç’ƒçª—ä¸Šå‡ç»“å‡ºç²¾ç¾çš„éœœèŠ±å›¾æ¡ˆ</div>
                    </div>
                    <div class="phenomenon-item" data-phenomenon="breath">
                        <div class="phenomenon-title">å‘¼æ°”æˆé›¾</div>
                        <div class="phenomenon-desc">æˆ·å¤–å‘¼å¸æ—¶å½¢æˆé•¿é•¿çš„ç™½è‰²é›¾æ°”</div>
                    </div>
                </div>
            </div>

            <!-- å¡ç‰‡2ï¼šä¹ ä¿—æ”¶é›† -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-home card-icon"></i>
                    </div>
                    <h2 class="card-title">å¤§å¯’ä¼ ç»Ÿä¹ ä¿—</h2>
                </div>
                <div class="card-content">
                    ç‚¹å‡»ä¹ ä¿—äº†è§£è¯¦æƒ…ï¼Œæ„Ÿå—å²æœ«çš„æ¸©æš–ï¼š
                </div>
                <div class="customs-grid">
                    <div class="custom-item" data-custom="eat-rice" data-title="é£Ÿç³¯ç±³é¥­" data-icon="ğŸš">
                        <div class="custom-icon">ğŸš</div>
                        <div class="custom-name">é£Ÿç³¯ç±³é¥­</div>
                    </div>
                    <div class="custom-item" data-custom="drink-soup" data-title="å–é¸¡æ±¤" data-icon="ğŸ²">
                        <div class="custom-icon">ğŸ²</div>
                        <div class="custom-name">å–é¸¡æ±¤</div>
                    </div>
                    <div class="custom-item" data-custom="clean-house" data-title="é™¤å°˜å¸ƒæ–°" data-icon="ğŸ§¹">
                        <div class="custom-icon">ğŸ§¹</div>
                        <div class="custom-name">é™¤å°˜å¸ƒæ–°</div>
                    </div>
                    <div class="custom-item" data-custom="prepare-spring" data-title="å¤‡å¹´è´§" data-icon="ğŸ">
                        <div class="custom-icon">ğŸ</div>
                        <div class="custom-name">å¤‡å¹´è´§</div>
                    </div>
                </div>
            </div>

            <!-- å¡ç‰‡3ï¼šè¯—è¯é…å¯¹ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-feather-alt card-icon"></i>
                    </div>
                    <h2 class="card-title">å¤§å¯’è¯—è¯å¯¹éŸµ</h2>
                </div>
                <div class="card-content">
                    å“å‘³å¤äººç¬”ä¸‹çš„å¤§å¯’ï¼Œé…å¯¹å®Œæ•´çš„è¯—å¥ï¼š
                </div>
                <div class="poem-grid">
                    <div class="poem-line" data-line="1">å¤§å¯’é›ªæœªæ¶ˆ</div>
                    <div class="poem-line" data-line="2">é—­æˆ·ä¸èƒ½å‡º</div>
                    <div class="poem-line" data-line="3">å¯æ€œåˆ‡äº‘å† </div>
                    <div class="poem-line" data-line="4">å±€æ­¤å®¹è†å®¤</div>
                    <div class="poem-line" data-line="5">è…Šé…’è‡ªç›ˆæ¨½</div>
                    <div class="poem-line" data-line="6">é‡‘ç‚‰å…½ç‚­æ¸©</div>
                </div>
            </div>

            <!-- å¡ç‰‡4ï¼šå¯’æ¢…ç»˜åˆ¶ -->
            <div class="card">
                <div class="card-header">
                    <div class="card-icon-wrapper">
                        <i class="fas fa-paint-brush card-icon"></i>
                    </div>
                    <h2 class="card-title">ç»˜å‡ºå†¬æ—¥æš–æ„</h2>
                </div>
                <div class="card-content">
                    å¤§å¯’æ—¶èŠ‚ï¼Œæ¢…èŠ±å‚²é›ªã€‚ç”¨ç”»ç¬”æç»˜ä½ å¿ƒä¸­çš„å†¬æ—¥æ™¯è±¡ï¼š
                </div>
                <div class="drawing-area">
                    <div class="drawing-container">
                        <canvas id="drawingBoard"></canvas>
                    </div>
                    
                    <div class="drawing-controls">
                        <div class="color-options">
                            <div class="color-option active" style="background: #dc2626;" data-color="#dc2626"></div>
                            <div class="color-option" style="background: #2563eb;" data-color="#2563eb"></div>
                            <div class="color-option" style="background: #059669;" data-color="#059669"></div>
                            <div class="color-option" style="background: #d97706;" data-color="#d97706"></div>
                            <div class="color-option" style="background: #7c3aed;" data-color="#7c3aed"></div>
                            <div class="color-option" style="background: #000000;" data-color="#000000"></div>
                            <div class="color-option" style="background: #ffffff;" data-color="#ffffff"></div>
                        </div>
                        
                        <button class="draw-btn" id="clearCanvas">
                            <i class="fas fa-trash-alt"></i>æ¸…ç©ºç”»æ¿
                        </button>
                        <button class="draw-btn" id="saveDrawing">
                            <i class="fas fa-download"></i>ä¿å­˜ä½œå“
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- æˆå°±ç³»ç»Ÿ -->
        <section class="achievement-section">
            <h2 class="section-title">èŠ‚æ°”æˆå°±</h2>
            
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            
            <div class="badges-container">
                <div class="badge" id="badge1">
                    <i class="fas fa-snowflake badge-icon"></i>
                    <div class="badge-name">æå¯’æ„ŸçŸ¥è€…</div>
                </div>
                <div class="badge" id="badge2">
                    <i class="fas fa-star badge-icon"></i>
                    <div class="badge-name">ä¹ ä¿—ä¼ æ‰¿äºº</div>
                </div>
                <div class="badge" id="badge3">
                    <i class="fas fa-feather-alt badge-icon"></i>
                    <div class="badge-name">è¯—è¯é‰´èµå®¶</div>
                </div>
                <div class="badge" id="badge4">
                    <i class="fas fa-palette badge-icon"></i>
                    <div class="badge-name">å†¬æ—¥è‰ºæœ¯å®¶</div>
                </div>
            </div>
        </section>
    </div>

    <!-- éŸ³ä¹æ§åˆ¶ -->
    <div class="music-control">
        <button class="music-btn" id="musicToggle">
            <i class="fas fa-music"></i>
        </button>
    </div>

    <!-- æç¤ºæ¶ˆæ¯ -->
    <div class="toast" id="toast"></div>

    <!-- éŸ³é¢‘ -->
    <audio id="bgm" loop preload="auto" crossorigin="anonymous">
        <source src="https://assets.mixkit.co/music/preview/mixkit-winter-snow-125.mp3" type="audio/mpeg">
    </audio>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // åˆå§‹åŒ–å˜é‡
            let collectedCustoms = new Set();
            let matchedPoems = new Set();
            let clickedPhenomena = new Set();
            let hasDrawn = false;
            let progress = 10; // åˆå§‹è¿›åº¦è®¾ä¸º10%

            // æˆå°±è§£é”çŠ¶æ€
            let achievements = {
                coldPhenomenon: false,
                customsCollection: false,
                poemMatching: false,
                winterArt: false
            };

            // å…ƒç´ å¼•ç”¨
            const elements = {
                progressBar: document.getElementById('progressBar'),
                toast: document.getElementById('toast'),
                musicToggle: document.getElementById('musicToggle'),
                bgm: document.getElementById('bgm'),
                drawingBoard: document.getElementById('drawingBoard'),
                clearCanvas: document.getElementById('clearCanvas'),
                saveDrawing: document.getElementById('saveDrawing'),
                colorOptions: document.querySelectorAll('.color-option'),
                customModal: document.getElementById('customModal'),
                modalClose: document.getElementById('modalClose'),
                modalIcon: document.getElementById('modalIcon'),
                modalTitle: document.getElementById('modalTitle'),
                modalBody: document.getElementById('modalBody')
            };

            // ä¹ ä¿—è¯¦æƒ…æ•°æ®
            const customDetails = {
                'eat-rice': {
                    title: 'é£Ÿç³¯ç±³é¥­',
                    icon: 'ğŸš',
                    description: '<p>å¤§å¯’æ—¶èŠ‚ï¼Œå¤©æ°”å¯’å†·ï¼Œäººä»¬ä¼šé£Ÿç”¨ç³¯ç±³åšçš„é¥­æ¥é©±å¯’ä¿æš–ã€‚</p><p>ç³¯ç±³é¥­å«æœ‰ä¸°å¯Œçš„ç¢³æ°´åŒ–åˆç‰©ï¼Œèƒ½å¿«é€Ÿè¡¥å……èƒ½é‡ã€‚ä¼ ç»Ÿä¸Šè¿˜ä¼šåœ¨ç³¯ç±³é¥­ä¸­åŠ å…¥è…Šè‚‰ã€èŠ±ç”Ÿã€çº¢æ£ç­‰é£Ÿæï¼Œæ—¢ç¾å‘³åˆè¥å…»ã€‚</p><p>åœ¨å—æ–¹åœ°åŒºï¼Œå¤§å¯’åƒç³¯ç±³é¥­æ˜¯ä¸€ç§é‡è¦çš„èŠ‚æ°”ä¹ ä¿—ï¼Œå¯“æ„ç€æ¸©æš–è¿‡å†¬ï¼Œè¿æ¥æ–°æ˜¥ã€‚</p>'
                },
                'drink-soup': {
                    title: 'å–é¸¡æ±¤',
                    icon: 'ğŸ²',
                    description: '<p>å¤§å¯’å–é¸¡æ±¤æ˜¯ä¼ ç»Ÿçš„è¿›è¡¥æ–¹å¼ï¼Œç‰¹åˆ«æ˜¯è€æ¯é¸¡æ±¤ï¼Œè¢«è®¤ä¸ºæœ‰å¾ˆå¥½çš„æ»‹è¡¥æ•ˆæœã€‚</p><p>é¸¡æ±¤èƒ½å¢å¼ºä½“åŠ›ã€æé«˜å…ç–«åŠ›ï¼Œå¯¹æŠ—å¯’å†·å¤©æ°”ã€‚å¸¸ä¼šåŠ å…¥æ¸æã€çº¢æ£ã€å½“å½’ç­‰è¯æä¸€èµ·ç‚–ç…®ã€‚</p><p>ä¸€å®¶äººå›´åå–çƒ­é¸¡æ±¤ï¼Œä¸ä»…æš–èº«ï¼Œæ›´è±¡å¾ç€å›¢åœ†å’Œæ¸©æš–ã€‚</p>'
                },
                'clean-house': {
                    title: 'é™¤å°˜å¸ƒæ–°',
                    icon: 'ğŸ§¹',
                    description: '<p>å¤§å¯’ä¸´è¿‘æ˜¥èŠ‚ï¼Œå®¶å®¶æˆ·æˆ·éƒ½ä¼šè¿›è¡Œå¤§æ‰«é™¤ï¼Œç§°ä¸º"é™¤å°˜"ã€‚</p><p>è¿™ä¸€ä¹ ä¿—å¯“æ„ç€æ‰«é™¤æ—§å¹´çš„æ™¦æ°”ï¼Œè¿æ¥æ–°å¹´çš„å¥½è¿ã€‚é™¤äº†æ¸…æ´æˆ¿å±‹ï¼Œè¿˜ä¼šæ¸…æ´—è¢«è¤¥ã€æ•´ç†ç‰©å“ã€‚</p><p>é™¤å°˜å¸ƒæ–°ä¸ä»…æ˜¯å«ç”Ÿä¹ æƒ¯ï¼Œæ›´ä½“ç°äº†ä¸­å›½äººè¾æ—§è¿æ–°çš„ç¾å¥½æ„¿æœ›ã€‚</p>'
                },
                'prepare-spring': {
                    title: 'å¤‡å¹´è´§',
                    icon: 'ğŸ',
                    description: '<p>å¤§å¯’è¿‡åå°±æ˜¯æ˜¥èŠ‚ï¼Œäººä»¬å¼€å§‹å‡†å¤‡å¹´è´§ï¼Œä¸ºè¿‡å¹´åšå‡†å¤‡ã€‚</p><p>ä¼ ç»Ÿå¹´è´§åŒ…æ‹¬é£Ÿå“ã€æ–°è¡£ã€æ˜¥è”ã€é­ç‚®ç­‰ã€‚åŒ—æ–¹ä¼šå‡†å¤‡é¥ºå­ã€å¹´ç³•ï¼Œå—æ–¹åˆ™ä¼šå‡†å¤‡è…Šå‘³ã€ç³–æœã€‚</p><p>å¤‡å¹´è´§çš„è¿‡ç¨‹å……æ»¡äº†å¹´å‘³ï¼Œè±¡å¾ç€å¯¹æ–°å¹´ä¸°è¡£è¶³é£Ÿçš„ç¾å¥½æœŸç›¼ã€‚</p>'
                }
            };

            // 1. ç”Ÿæˆé›ªèŠ±æ•ˆæœ
            function createSnowflakes() {
                const container = document.getElementById('snowflakes');
                const snowflakeCount = 50;
                
                for (let i = 0; i < snowflakeCount; i++) {
                    const snowflake = document.createElement('div');
                    snowflake.classList.add('snowflake');
                    
                    const size = Math.random() * 4 + 2;
                    snowflake.style.width = `${size}px`;
                    snowflake.style.height = `${size}px`;
                    snowflake.style.left = `${Math.random() * 100}%`;
                    snowflake.style.top = `${Math.random() * 100}%`;
                    snowflake.style.opacity = Math.random() * 0.5 + 0.3;
                    
                    const duration = Math.random() * 10 + 10;
                    const delay = Math.random() * 5;
                    snowflake.style.animation = `fall ${duration}s linear ${delay}s infinite`;
                    
                    container.appendChild(snowflake);
                }
            }

            // 2. å¤§å¯’å¯’å†·ç°è±¡äº’åŠ¨
            document.querySelectorAll('.phenomenon-item').forEach(item => {
                item.addEventListener('click', function() {
                    const phenomenon = this.dataset.phenomenon;
                    
                    // æ·»åŠ ç‚¹å‡»æ•ˆæœ
                    if (!this.classList.contains('clicked')) {
                        this.classList.add('clicked');
                        clickedPhenomena.add(phenomenon);
                        
                        const title = this.querySelector('.phenomenon-title').textContent;
                        showToast(`â„ï¸ ${title}`);
                        
                        // æ›´æ–°è¿›åº¦å’Œæˆå°±
                        updateProgress(progress + 5);
                        
                        // å¦‚æœç‚¹å‡»äº†ä»»æ„å¯’å†·ç°è±¡ï¼Œè§£é”ç¬¬ä¸€ä¸ªæˆå°±
                        if (!achievements.coldPhenomenon && clickedPhenomena.size > 0) {
                            achievements.coldPhenomenon = true;
                            document.getElementById('badge1').classList.add('unlocked');
                            showToast('â„ï¸ æå¯’æ„ŸçŸ¥è€…æˆå°±è§£é”ï¼');
                        }
                    }
                });
            });

            // 3. ä¹ ä¿—æ”¶é›†å’Œè¯¦æƒ…å¼¹çª—
            document.querySelectorAll('.custom-item').forEach(item => {
                item.addEventListener('click', function() {
                    const custom = this.dataset.custom;
                    
                    // æ˜¾ç¤ºè¯¦æƒ…å¼¹çª—
                    showCustomDetail(custom);
                    
                    // æ”¶é›†ä¹ ä¿—ï¼ˆå¦‚æœæ˜¯ç¬¬ä¸€æ¬¡ç‚¹å‡»ï¼‰
                    if (!collectedCustoms.has(custom)) {
                        collectedCustoms.add(custom);
                        this.classList.add('collected');
                        
                        // æ›´æ–°è¿›åº¦
                        updateProgress(progress + 8);
                        
                        // æ£€æŸ¥æ˜¯å¦å…¨éƒ¨æ”¶é›†
                        if (collectedCustoms.size === 4 && !achievements.customsCollection) {
                            achievements.customsCollection = true;
                            document.getElementById('badge2').classList.add('unlocked');
                            showToast('ğŸ‰ æ­å–œï¼å·²æ”¶é›†æ‰€æœ‰å¤§å¯’ä¹ ä¿—ï¼');
                        }
                    }
                });
            });

            // æ˜¾ç¤ºä¹ ä¿—è¯¦æƒ…å¼¹çª—
            function showCustomDetail(customId) {
                const detail = customDetails[customId];
                if (!detail) return;
                
                elements.modalIcon.textContent = detail.icon;
                elements.modalTitle.textContent = detail.title;
                elements.modalBody.innerHTML = detail.description;
                
                elements.customModal.classList.add('active');
            }

            // å…³é—­å¼¹çª—
            elements.modalClose.addEventListener('click', function() {
                elements.customModal.classList.remove('active');
            });

            // ç‚¹å‡»å¼¹çª—å¤–å…³é—­
            elements.customModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    elements.customModal.classList.remove('active');
                }
            });

            // 4. è¯—è¯é…å¯¹æ¸¸æˆ
            const poemPairs = {
                '1': '2', // å¤§å¯’é›ªæœªæ¶ˆ - é—­æˆ·ä¸èƒ½å‡º
                '3': '4', // å¯æ€œåˆ‡äº‘å†  - å±€æ­¤å®¹è†å®¤
                '5': '6'  // è…Šé…’è‡ªç›ˆæ¨½ - é‡‘ç‚‰å…½ç‚­æ¸©
            };
            
            let selectedLine = null;
            
            document.querySelectorAll('.poem-line').forEach(line => {
                line.addEventListener('click', function() {
                    if (this.classList.contains('matched')) return;
                    
                    if (!selectedLine) {
                        // é€‰æ‹©ç¬¬ä¸€å¥
                        selectedLine = this;
                        this.classList.add('selected');
                        showToast('è¯·é€‰æ‹©å¯¹åº”çš„ä¸‹å¥');
                    } else {
                        // é€‰æ‹©ç¬¬äºŒå¥
                        const firstId = selectedLine.dataset.line;
                        const secondId = this.dataset.line;
                        
                        if (poemPairs[firstId] === secondId || poemPairs[secondId] === firstId) {
                            // é…å¯¹æˆåŠŸ
                            selectedLine.classList.remove('selected');
                            selectedLine.classList.add('matched');
                            this.classList.add('matched');
                            
                            const pairKey = poemPairs[firstId] ? firstId : secondId;
                            matchedPoems.add(pairKey);
                            
                            showToast('ğŸ“š è¯—è¯é…å¯¹æˆåŠŸï¼');
                            updateProgress(progress + 10);
                            
                            // æ£€æŸ¥æ˜¯å¦å…¨éƒ¨é…å¯¹
                            if (matchedPoems.size === 3 && !achievements.poemMatching) {
                                achievements.poemMatching = true;
                                document.getElementById('badge3').classList.add('unlocked');
                                showToast('ğŸ“ è¯—è¯é‰´èµå®¶æˆå°±è§£é”ï¼');
                            }
                        } else {
                            // é…å¯¹å¤±è´¥
                            selectedLine.classList.remove('selected');
                            showToast('å†è¯•è¯•å§ï¼');
                        }
                        
                        selectedLine = null;
                    }
                });
            });

            // 5. ç»˜ç”»æ¿ç³»ç»Ÿ
            const canvas = elements.drawingBoard;
            const ctx = canvas.getContext('2d');
            
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            let currentColor = '#dc2626';
            ctx.lineWidth = 8; // åŠ ç²—ç¬”è§¦
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
            ctx.strokeStyle = currentColor;

            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', stopDrawing);
            canvas.addEventListener('mouseout', stopDrawing);
            
            canvas.addEventListener('touchstart', function(e) {
                e.preventDefault();
                const touch = e.touches[0];
                startDrawing(touch);
            });
            
            canvas.addEventListener('touchmove', function(e) {
                e.preventDefault();
                const touch = e.touches[0];
                draw(touch);
            });
            
            canvas.addEventListener('touchend', stopDrawing);

            function startDrawing(e) {
                isDrawing = true;
                hasDrawn = true;
                const rect = canvas.getBoundingClientRect();
                lastX = (e.clientX || e.pageX) - rect.left;
                lastY = (e.clientY || e.pageY) - rect.top;
                
                // å¼€å§‹ç»˜ç”»æ—¶æ£€æŸ¥æˆå°±
                if (hasDrawn && !achievements.winterArt) {
                    achievements.winterArt = true;
                    document.getElementById('badge4').classList.add('unlocked');
                    updateProgress(progress + 10);
                    showToast('ğŸ¨ å†¬æ—¥è‰ºæœ¯å®¶æˆå°±è§£é”ï¼');
                }
            }

            function draw(e) {
                if (!isDrawing) return;
                
                const rect = canvas.getBoundingClientRect();
                const currentX = (e.clientX || e.pageX) - rect.left;
                const currentY = (e.clientY || e.pageY) - rect.top;
                
                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(currentX, currentY);
                ctx.stroke();
                
                lastX = currentX;
                lastY = currentY;
            }

            function stopDrawing() {
                isDrawing = false;
            }

            // é¢œè‰²é€‰æ‹©
            elements.colorOptions.forEach(option => {
                option.addEventListener('click', function() {
                    elements.colorOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    currentColor = this.dataset.color;
                    ctx.strokeStyle = currentColor;
                });
            });

            // æ¸…ç©ºç”»å¸ƒ
            elements.clearCanvas.addEventListener('click', function() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                showToast('ç”»æ¿å·²æ¸…ç©º');
            });

            // ä¿å­˜ä½œå“
            elements.saveDrawing.addEventListener('click', function() {
                const dataURL = canvas.toDataURL('image/png');
                const link = document.createElement('a');
                link.download = 'å¤§å¯’ç»˜ç”»ä½œå“.png';
                link.href = dataURL;
                link.click();
                showToast('ä½œå“å·²ä¿å­˜ï¼');
            });

            // 6. éŸ³ä¹æ§åˆ¶
            let isPlaying = false;
            
            elements.musicToggle.addEventListener('click', function() {
                if (isPlaying) {
                    elements.bgm.pause();
                    this.innerHTML = '<i class="fas fa-music"></i>';
                    showToast('éŸ³ä¹å·²æš‚åœ');
                } else {
                    elements.bgm.play().catch(e => {
                        showToast('ç‚¹å‡»é¡µé¢ä»»æ„å¤„å¯ç”¨éŸ³ä¹');
                        document.body.addEventListener('click', function initMusic() {
                            elements.bgm.play();
                            document.body.removeEventListener('click', initMusic);
                        }, { once: true });
                    });
                    this.innerHTML = '<i class="fas fa-pause"></i>';
                    showToast('â„ï¸ èŠ‚æ°”éŸ³ä¹æ’­æ”¾ä¸­');
                }
                isPlaying = !isPlaying;
            });

            // 7. è¿›åº¦æ›´æ–°å‡½æ•°ï¼ˆä¿®å¤ç‰ˆï¼‰
            function updateProgress(value) {
                // ç¡®ä¿è¿›åº¦ä¸ä¼šè¶…è¿‡100%
                progress = Math.min(100, Math.max(progress, value));
                
                // è®¡ç®—å®é™…æ˜¾ç¤ºè¿›åº¦ï¼ˆç¡®ä¿å®Œæˆæ‰€æœ‰äº’åŠ¨èƒ½è¾¾åˆ°100%ï¼‰
                let displayProgress = progress;
                
                // æ£€æŸ¥æ˜¯å¦å®Œæˆäº†æ‰€æœ‰ä¸»è¦äº’åŠ¨
                const allInteractionsComplete = 
                    clickedPhenomena.size > 0 && 
                    collectedCustoms.size === 4 && 
                    matchedPoems.size === 3 && 
                    hasDrawn;
                
                // å¦‚æœå®Œæˆäº†æ‰€æœ‰äº’åŠ¨ï¼Œç›´æ¥æ˜¾ç¤º100%
                if (allInteractionsComplete && displayProgress < 100) {
                    displayProgress = 100;
                }
                
                elements.progressBar.style.width = displayProgress + '%';
                
                // å…¨éƒ¨å®Œæˆæ—¶æ˜¾ç¤ºæç¤º
                if (displayProgress >= 100 && progress >= 100) {
                    setTimeout(() => {
                        showToast('ğŸŠ æ­å–œï¼å¤§å¯’èŠ‚æ°”æ¢ç´¢å®Œæˆï¼');
                    }, 500);
                }
                
                return displayProgress;
            }

            // 8. æç¤ºæ¶ˆæ¯å‡½æ•°
            function showToast(message) {
                elements.toast.textContent = message;
                elements.toast.classList.add('show');
                
                setTimeout(() => {
                    elements.toast.classList.remove('show');
                }, 3000);
            }

            // 9. çª—å£å¤§å°è°ƒæ•´
            window.addEventListener('resize', function() {
                const oldImage = ctx.getImageData(0, 0, canvas.width, canvas.height);
                canvas.width = canvas.offsetWidth;
                canvas.height = canvas.offsetHeight;
                ctx.putImageData(oldImage, 0, 0);
                ctx.lineWidth = 8;
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.strokeStyle = currentColor;
            });

            // åˆå§‹åŒ–
            createSnowflakes();
            updateProgress(10); // åˆå§‹åŒ–è¿›åº¦ä¸º10%
        });
    </script>
</body>
</html>
